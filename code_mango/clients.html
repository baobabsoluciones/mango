<!DOCTYPE html>
<html lang="en" data-accent-color="violet" data-content_root="../">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Clients - mango documentation</title><link rel="index" title="Index" href="../genindex.html" /><link rel="search" title="Search" href="../search.html" /><link rel="next" title="Config" href="config.html" /><link rel="prev" title="Benchmarks" href="benchmark.html" /><script>
    function setColorMode(t){let e=document.documentElement;e.setAttribute("data-color-mode",t);let a=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,s=t;"auto"===t&&(s=a?"dark":"light"),"light"===s?(e.classList.remove("dark"),e.classList.add("light")):(e.classList.remove("light"),e.classList.add("dark"))}
    setColorMode(localStorage._theme||"auto");
  </script><link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=397bb51e" />
    <link rel="stylesheet" type="text/css" href="../_static/shibuya.css?v=76b6f612" />
    <link media="print" rel="stylesheet" type="text/css" href="../_static/print.css?v=20ff2c19" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --sy-f-text: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
  --sy-f-heading: "Inter", var(--sy-f-sys), var(--sy-f-cjk), sans-serif;
}
</style>
    <meta property="og:type" content="website"/><meta property="og:title" content="Clients"/>
<meta name="twitter:card" content="summary"/>
  </head>
<body><div class="sy-head">
  <div class="sy-head-blur"></div>
  <div class="sy-head-inner sy-container mx-auto">
    <a class="sy-head-brand" href="../index.html">
      
      
      <strong>mango</strong>
    </a>
    <div class="sy-head-nav" id="head-nav">
      <nav class="sy-head-links"></nav>
      <div class="sy-head-extra flex items-center print:hidden"><form class="searchbox flex items-center" action="../search.html" method="get">
  <input type="text" name="q" placeholder="Search" />
  <kbd>/</kbd>
</form><div class="sy-head-socials"></div></div>
    </div>
    <div class="sy-head-actions flex items-center shrink-0 print:hidden"><button class="js-theme theme-switch flex items-center"
data-aria-auto="Switch to light color mode"
data-aria-light="Switch to dark color mode"
data-aria-dark="Switch to auto color mode">
<i class="i-lucide theme-icon"></i>
</button><button class="md:hidden flex items-center js-menu" aria-label="Menu" type="button" aria-controls="head-nav" aria-expanded="false">
        <div class="hamburger">
          <span class="hamburger_1"></span>
          <span class="hamburger_2 -translate-x-2"></span>
          <span class="hamburger_3 -translate-x-1"></span>
        </div>
      </button>
    </div>
  </div>
</div>
<div class="sy-page sy-container flex mx-auto">
  <aside id="lside" class="sy-lside md:w-72 md:shrink-0 print:hidden">
    <div class="sy-lside-inner md:sticky">
      <div class="sy-scrollbar p-6">
        <div class="globaltoc" data-expand-depth="0"><p class="caption" role="heading" aria-level="3"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../readme.html">Mango</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#overview">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#quick-start">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../readme.html#support">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../changelog/index.html">Changelogs</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../changelog/mango_changelog.html">mango</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog/mango_time_series_changelog.html">mango-time-series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog/mango_autoencoder_changelog.html">mango-autoencoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog/mango_calendar_changelog.html">mango-calendar</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog/mango_dashboard_changelog.html">mango-dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelog/mango_genetic_changelog.html">mango-genetic</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Mango code</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="benchmark.html">Benchmarks</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Clients</a></li>
<li class="toctree-l2"><a class="reference internal" href="config.html">Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="decodoc.html">Decodoc</a></li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Logging</a></li>
<li class="toctree-l2"><a class="reference internal" href="models.html">Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="processing.html">Processing</a></li>
<li class="toctree-l2"><a class="reference internal" href="shared.html">Shared Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="table.html">Table</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code_mango_time_series/index.html">Mango time series code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_time_series/time_series.html">Time series</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_time_series/utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_time_series/data.html">Data</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code_autoencoder/index.html">Mango autoencoder code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code_autoencoder/autoencoder.html">Autoencoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_autoencoder/autoencoder_api.html">AutoEncoder API Reference</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../code_autoencoder/modules.html">AutoEncoder Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="../code_autoencoder/utils.html">AutoEncoder Utils</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../code_autoencoder/modules.html">AutoEncoder Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_autoencoder/utils.html">AutoEncoder Utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code_mango_calendar/index.html">Mango calendar code</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_calendar/mango_calendar.html">Calendar Features</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_calendar/mango_calendar.html#module-mango_calendar.date_utils">Date Utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code_mango_dashboard/index.html">Mango dashboard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_dashboard/file_explorer.html">File Explorer Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_dashboard/time_series.html">Time Series Dashboard</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../code_mango_genetic/index.html">Mango genetic</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/individual.html">Individual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/population.html">Population</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/selection.html">Selection</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/crossover.html">Crossover</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/mutation.html">Mutation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/replacement.html">Replacement</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/stop.html">Stop conditions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/config.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/usage.html">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../code_mango_genetic/code.html">Genetic</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../bib.html">Bibliography</a></li>
</ul>

        </div>
      </div>
    </div>
  </aside>
  <div class="lside-overlay js-menu" role="button" aria-label="Close left sidebar" aria-controls="lside" aria-expanded="false"></div>
  <aside id="rside" class="sy-rside pb-3 w-64 shrink-0 order-last">
    <button class="rside-close js-menu xl:hidden" aria-label="Close Table of Contents" type="button" aria-controls="rside" aria-expanded="false">
      <i class="i-lucide close"></i>
    </button>
    <div class="sy-scrollbar sy-rside-inner px-6 xl:top-16 xl:sticky xl:pl-0 pt-6 pb-4"><div class="localtoc"><h3>On this page</h3><ul>
<li><a class="reference internal" href="#aemet">AEMET</a><ul>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient"><code class="docutils literal notranslate"><span class="pre">AEMETClient</span></code></a><ul>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient.connect"><code class="docutils literal notranslate">connect()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient.all_stations"><code class="docutils literal notranslate">all_stations</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient.municipios"><code class="docutils literal notranslate">municipios</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient.get_meteo_data"><code class="docutils literal notranslate">get_meteo_data()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient.get_forecast_data"><code class="docutils literal notranslate">get_forecast_data()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient.custom_endpoint"><code class="docutils literal notranslate">custom_endpoint()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient.expect_status"><code class="docutils literal notranslate">expect_status()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.aemet.AEMETClient.request_handler"><code class="docutils literal notranslate">request_handler()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#arcgis">ARCGIS</a><ul>
<li><a class="reference internal" href="#mango.clients.arcgis.ArcGisClient"><code class="docutils literal notranslate"><span class="pre">ArcGisClient</span></code></a><ul>
<li><a class="reference internal" href="#mango.clients.arcgis.ArcGisClient.connect"><code class="docutils literal notranslate">connect()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.arcgis.ArcGisClient.get_geolocation"><code class="docutils literal notranslate">get_geolocation()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.arcgis.ArcGisClient.get_origin_destination_matrix"><code class="docutils literal notranslate">get_origin_destination_matrix()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#emaildownloader">EmailDownloader</a><ul>
<li><a class="reference internal" href="#mango.clients.email_downloader.EmailDownloader"><code class="docutils literal notranslate"><span class="pre">EmailDownloader</span></code></a><ul>
<li><a class="reference internal" href="#mango.clients.email_downloader.EmailDownloader.close_connection"><code class="docutils literal notranslate">close_connection()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.email_downloader.EmailDownloader.fetch_unread_emails"><code class="docutils literal notranslate">fetch_unread_emails()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.email_downloader.EmailDownloader.save_attachments"><code class="docutils literal notranslate">save_attachments()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#emailsender">EmailSender</a><ul>
<li><a class="reference internal" href="#mango.clients.email_sender.EmailSender"><code class="docutils literal notranslate"><span class="pre">EmailSender</span></code></a><ul>
<li><a class="reference internal" href="#mango.clients.email_sender.EmailSender.send_email_with_attachments"><code class="docutils literal notranslate">send_email_with_attachments()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#googlecloudstorage">GoogleCloudStorage</a><ul>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage"><code class="docutils literal notranslate"><span class="pre">GoogleCloudStorage</span></code></a><ul>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.upload_object"><code class="docutils literal notranslate">upload_object()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_filename"><code class="docutils literal notranslate">upload_from_filename()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_file"><code class="docutils literal notranslate">upload_from_file()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.rename_file"><code class="docutils literal notranslate">rename_file()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.download_to_object"><code class="docutils literal notranslate">download_to_object()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.download_to_file"><code class="docutils literal notranslate">download_to_file()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.delete_file"><code class="docutils literal notranslate">delete_file()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.list_files"><code class="docutils literal notranslate">list_files()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.copy_file"><code class="docutils literal notranslate">copy_file()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.move_file"><code class="docutils literal notranslate">move_file()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_folder"><code class="docutils literal notranslate">upload_from_folder()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#restclient">RESTClient</a><ul>
<li><a class="reference internal" href="#mango.clients.rest_client.RESTClient"><code class="docutils literal notranslate"><span class="pre">RESTClient</span></code></a><ul>
<li><a class="reference internal" href="#mango.clients.rest_client.RESTClient.connect"><code class="docutils literal notranslate">connect()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.rest_client.RESTClient.request_handler"><code class="docutils literal notranslate">request_handler()</span></code></a></li>
<li><a class="reference internal" href="#mango.clients.rest_client.RESTClient.expect_status"><code class="docutils literal notranslate">expect_status()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div><div id="ethical-ad-placement" data-ea-publisher="readthedocs"></div></div>
  </aside>
  <div class="rside-overlay js-menu" role="button" aria-label="Close Table of Contents" aria-controls="rside" aria-expanded="false"></div>
  <main class="sy-main w-full max-sm:max-w-full print:pt-6">
<div class="sy-breadcrumbs" role="navigation">
  <div class="sy-breadcrumbs-inner flex items-center">
    <div class="md:hidden mr-3">
      <button class="js-menu" aria-label="Menu" type="button" aria-controls="lside" aria-expanded="false">
        <i class="i-lucide menu"></i>
      </button>
    </div>
    <ol class="flex-1" itemscope itemtype="https://schema.org/BreadcrumbList"><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="../index.html"><span itemprop="name">mango</span></a>
        <span>/</span>
        <meta itemprop="position" content="1" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a itemprop="item" href="index.html"><span itemprop="name">Mango code</span></a>
        <span>/</span>
        <meta itemprop="position" content="2" />
      </li><li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <strong itemprop="name">Clients</strong>
        <meta itemprop="position" content="3" />
      </li></ol>
    <div class="xl:hidden ml-1">
      <button class="js-menu" aria-label="Show table of contents" type="button" aria-controls="rside"
        aria-expanded="false">
        <i class="i-lucide outdent"></i>
      </button>
    </div>
  </div>
</div><div class="flex flex-col break-words justify-between">
      <div class="min-w-0 max-w-6xl px-6 pb-6 pt-8 xl:px-12">
        <article class="yue" role="main">
          <section id="clients">
<h1>Clients<a class="headerlink" href="#clients" title="Link to this heading">¶</a></h1>
<section id="aemet">
<h2>AEMET<a class="headerlink" href="#aemet" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mango.clients.aemet.</span></span><span class="sig-name descname"><span class="pre">AEMETClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.aemet.AEMETClient" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#mango.clients.rest_client.RESTClient" title="mango.clients.rest_client.RESTClient"><code class="xref py py-class docutils literal notranslate"><span class="pre">RESTClient</span></code></a></p>
<p>Client for accessing AEMET (Spanish Meteorological Agency) API.</p>
<p>This class provides access to meteorological data from weather stations across Spain.
It supports retrieving historical data, live observations, and weather forecasts.
An API key is required and can be obtained from the AEMET website.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>api_key</strong> (<em>str</em>) – API key to connect to the AEMET API</p></li>
<li><p><strong>wait_time</strong> (<em>Union</em><em>[</em><em>float</em><em>, </em><em>int</em><em>]</em><em>, </em><em>optional</em>) – Wait time between requests in seconds. Default is 1.25 seconds</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If wait_time is below the minimum required value</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">mango.clients.aemet</span><span class="w"> </span><span class="kn">import</span> <span class="n">AEMETClient</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">AEMETClient</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;AEMET_API_KEY&quot;</span><span class="p">])</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span data-line="5"><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_meteo_data</span><span class="p">(</span><span class="n">lat</span><span class="o">=</span><span class="mf">40.4165</span><span class="p">,</span> <span class="n">long</span><span class="o">=-</span><span class="mf">3.70256</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#mango.clients.aemet.AEMETClient.connect" title="Link to this definition">¶</a></dt>
<dd><p>Connect to the AEMET API and cache station and municipality data.</p>
<p>This method establishes connection to the AEMET API, validates the API key,
and caches all available weather stations and municipalities in Spain.
This is a prerequisite for using other methods in the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="shared.html#mango.shared.exceptions.ApiKeyError" title="mango.shared.exceptions.ApiKeyError"><strong>ApiKeyError</strong></a> – If the provided API key is invalid</p></li>
<li><p><strong>Exception</strong> – If connection to the API fails</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">AEMETClient</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your_api_key&quot;</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient.all_stations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_stations</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#mango.clients.aemet.AEMETClient.all_stations" title="Link to this definition">¶</a></dt>
<dd><p>Get all meteorological stations in Spain.</p>
<p>Returns a list of dictionaries containing information about all
available weather stations in Spain, including their codes, names,
locations, and other metadata.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of dictionaries with meteorological station information</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[dict]</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">stations</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">all_stations</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total stations: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">stations</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient.municipios">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">municipios</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#mango.clients.aemet.AEMETClient.municipios" title="Link to this definition">¶</a></dt>
<dd><p>Get all municipalities in Spain.</p>
<p>Returns a list of dictionaries containing information about all
municipalities in Spain, including postal codes, names, and coordinates.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of dictionaries with municipality information</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>List[dict]</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">municipalities</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">municipios</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Total municipalities: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">municipalities</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient.get_meteo_data">
<span class="sig-name descname"><span class="pre">get_meteo_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">station_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lat</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">long</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">province</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_format</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'df'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'raw'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'raw'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.aemet.AEMETClient.get_meteo_data" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve meteorological data from Spanish weather stations.</p>
<p>This is the main method for obtaining weather data. It supports multiple
search criteria and can return historical or live data in different formats.</p>
<p>Station selection priority:
1. If station_code is provided, use only that station
2. If lat/long are provided, find the closest station (optionally in province)
3. If only province is provided, use all stations in that province
4. Otherwise, use all stations in Spain</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>station_code</strong> (<em>str</em><em>, </em><em>optional</em>) – Meteorological station code (e.g., “3195”)</p></li>
<li><p><strong>lat</strong> (<em>float</em><em>, </em><em>optional</em>) – Latitude coordinate in decimal degrees</p></li>
<li><p><strong>long</strong> (<em>float</em><em>, </em><em>optional</em>) – Longitude coordinate in decimal degrees</p></li>
<li><p><strong>province</strong> (<em>str</em><em>, </em><em>optional</em>) – Province name to limit search scope</p></li>
<li><p><strong>start_date</strong> (<em>datetime</em><em>, </em><em>optional</em>) – Start date for historical data retrieval</p></li>
<li><p><strong>end_date</strong> (<em>datetime</em><em>, </em><em>optional</em>) – End date for historical data retrieval</p></li>
<li><p><strong>output_format</strong> (<em>Literal</em><em>[</em><em>&quot;df&quot;</em><em>, </em><em>&quot;raw&quot;</em><em>]</em>) – Output format - “df” for DataFrame, “raw” for list of dicts</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Meteorological data in the specified format</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[pandas.DataFrame, List[dict]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If parameter types are incorrect</p></li>
<li><p><strong>ValueError</strong> – If parameter combinations are invalid</p></li>
<li><p><strong>Exception</strong> – If no data is found for any station</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">datetime</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get data from closest station to coordinates</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_meteo_data</span><span class="p">(</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="n">lat</span><span class="o">=</span><span class="mf">40.4165</span><span class="p">,</span> <span class="n">long</span><span class="o">=-</span><span class="mf">3.70256</span><span class="p">,</span>
</span><span data-line="5"><span class="gp">... </span>    <span class="n">start_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span>
</span><span data-line="6"><span class="gp">... </span>    <span class="n">end_date</span><span class="o">=</span><span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">31</span><span class="p">),</span>
</span><span data-line="7"><span class="gp">... </span>    <span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;df&quot;</span>
</span><span data-line="8"><span class="gp">... </span><span class="p">)</span>
</span><span data-line="9"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get live data from specific station</span>
</span><span data-line="10"><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_meteo_data</span><span class="p">(</span>
</span><span data-line="11"><span class="gp">... </span>    <span class="n">station_code</span><span class="o">=</span><span class="s2">&quot;3195&quot;</span><span class="p">,</span>
</span><span data-line="12"><span class="gp">... </span>    <span class="n">output_format</span><span class="o">=</span><span class="s2">&quot;raw&quot;</span>
</span><span data-line="13"><span class="gp">... </span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient.get_forecast_data">
<span class="sig-name descname"><span class="pre">get_forecast_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">postal_code</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.aemet.AEMETClient.get_forecast_data" title="Link to this definition">¶</a></dt>
<dd><p>Retrieve weather forecast data for Spanish municipalities.</p>
<p>This method fetches weather forecast data from the AEMET API for the next
few days. If no postal code is specified, it retrieves forecasts for all
municipalities in Spain (this can take a long time due to API rate limits).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>postal_code</strong> (<em>str</em><em>, </em><em>optional</em>) – Postal code of the municipality (e.g., “28001”)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of dictionaries containing forecast data</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[dict]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If postal_code is not a string</p></li>
<li><p><strong>AssertionError</strong> – If postal_code is not found in available municipalities</p></li>
<li><p><strong>Exception</strong> – If no forecast data is found for any municipality</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get forecast for specific municipality</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">forecast</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_forecast_data</span><span class="p">(</span><span class="n">postal_code</span><span class="o">=</span><span class="s2">&quot;28001&quot;</span><span class="p">)</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Get forecasts for all municipalities (slow)</span>
</span><span data-line="4"><span class="gp">&gt;&gt;&gt; </span><span class="n">all_forecasts</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_forecast_data</span><span class="p">()</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient.custom_endpoint">
<span class="sig-name descname"><span class="pre">custom_endpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">endpoint</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.aemet.AEMETClient.custom_endpoint" title="Link to this definition">¶</a></dt>
<dd><p>Access custom AEMET API endpoints directly.</p>
<p>Allows direct access to any AEMET API endpoint by providing the
endpoint path. This method provides flexibility for accessing
endpoints not covered by the standard methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>endpoint</strong> (<em>str</em>) – API endpoint path (must start with “/api”)</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Raw data from the specified endpoint</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – If endpoint is not a string</p></li>
<li><p><strong>ValueError</strong> – If endpoint doesn’t start with “/api” or no data is found</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">custom_endpoint</span><span class="p">(</span><span class="s2">&quot;/api/valores/climatologicos/normales/estacion/3195&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient.expect_status">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expect_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'json'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'raw'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'json'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.aemet.AEMETClient.expect_status" title="Link to this definition">¶</a></dt>
<dd><p>Decorator to validate HTTP response status codes and format responses.</p>
<p>This decorator wraps functions that return HTTP responses and validates
the status code against the expected value. It also handles response
formatting to return either JSON data or raw response objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – Function that returns a requests.Response object</p></li>
<li><p><strong>expected_status</strong> (<em>int</em><em>, </em><em>optional</em>) – Expected HTTP status code (e.g., 200, 201)</p></li>
<li><p><strong>response_type</strong> (<em>Literal</em><em>[</em><em>&quot;json&quot;</em><em>, </em><em>&quot;raw&quot;</em><em>]</em>) – Format of returned data - “json” or “raw”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decorated function that validates status and formats response</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>HTTPError</strong> – If response status doesn’t match expected_status</p></li>
<li><p><strong>ValueError</strong> – If response_type is invalid</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@RESTClient</span><span class="o">.</span><span class="n">expect_status</span><span class="p">(</span><span class="n">expected_status</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">response_type</span><span class="o">=</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">... </span><span class="k">def</span><span class="w"> </span><span class="nf">get_data</span><span class="p">():</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://api.example.com/data&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.aemet.AEMETClient.request_handler">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">request_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'raise'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warn'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ignore'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'raise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">pydantic.BaseModel</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#mango.clients.aemet.AEMETClient.request_handler" title="Link to this definition">¶</a></dt>
<dd><p>Handle HTTP GET requests with error management and response validation.</p>
<p>Makes a GET request to the specified URL with the given parameters,
implements rate limiting through wait time, and provides flexible
error handling options. Optionally validates response against a
Pydantic schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL to make the request to</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – Parameters to pass to the request</p></li>
<li><p><strong>wait_time</strong> (<em>Union</em><em>[</em><em>float</em><em>, </em><em>int</em><em>]</em>) – Wait time in seconds after the request</p></li>
<li><p><strong>if_error</strong> (<em>Literal</em><em>[</em><em>&quot;raise&quot;</em><em>, </em><em>&quot;warn&quot;</em><em>, </em><em>&quot;ignore&quot;</em><em>]</em>) – Error handling strategy - “raise”, “warn”, or “ignore”</p></li>
<li><p><strong>expected_schema</strong> (<em>Type</em><em>[</em><em>BaseModel</em><em>]</em><em>, </em><em>optional</em>) – Pydantic schema to validate response structure</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parsed JSON response as dictionary or list of dictionaries</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[dict, List[dict]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>HTTPError</strong> – If request fails and if_error is “raise”</p></li>
<li><p><strong>ValueError</strong> – If if_error parameter is invalid</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">RESTClient</span><span class="o">.</span><span class="n">request_handler</span><span class="p">(</span>
</span><span data-line="2"><span class="gp">... </span>    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.example.com/data&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">},</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="n">wait_time</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
</span><span data-line="5"><span class="gp">... </span>    <span class="n">if_error</span><span class="o">=</span><span class="s2">&quot;warn&quot;</span>
</span><span data-line="6"><span class="gp">... </span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="arcgis">
<h2>ARCGIS<a class="headerlink" href="#arcgis" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mango.clients.arcgis.ArcGisClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mango.clients.arcgis.</span></span><span class="sig-name descname"><span class="pre">ArcGisClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client_secret</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.arcgis.ArcGisClient" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Client for accessing ArcGIS services including geocoding and routing.</p>
<p>This class provides access to ArcGIS REST API services for geocoding addresses
and calculating origin-destination matrices. Authentication is required using
client credentials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>client_id</strong> (<em>str</em>) – ArcGIS client ID for authentication</p></li>
<li><p><strong>client_secret</strong> (<em>str</em>) – ArcGIS client secret for authentication</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">ArcGisClient</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="s2">&quot;your_client_id&quot;</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="s2">&quot;your_secret&quot;</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_geolocation</span><span class="p">(</span><span class="s2">&quot;Madrid, Spain&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.arcgis.ArcGisClient.connect">
<span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.arcgis.ArcGisClient.connect" title="Link to this definition">¶</a></dt>
<dd><p>Authenticate with ArcGIS services and obtain access token.</p>
<p>Establishes connection to ArcGIS REST API using client credentials.
The obtained access token is stored for use in subsequent API calls.
This method must be called before using other methods in the class.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="shared.html#mango.shared.exceptions.InvalidCredentials" title="mango.shared.exceptions.InvalidCredentials"><strong>InvalidCredentials</strong></a> – If authentication fails or credentials are invalid</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">ArcGisClient</span><span class="p">(</span><span class="n">client_id</span><span class="o">=</span><span class="s2">&quot;your_id&quot;</span><span class="p">,</span> <span class="n">client_secret</span><span class="o">=</span><span class="s2">&quot;your_secret&quot;</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.arcgis.ArcGisClient.get_geolocation">
<span class="sig-name descname"><span class="pre">get_geolocation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">country</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'ESP'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span></span></span><a class="headerlink" href="#mango.clients.arcgis.ArcGisClient.get_geolocation" title="Link to this definition">¶</a></dt>
<dd><p>Get the geolocation coordinates for a given address.</p>
<p>Uses ArcGIS geocoding service to convert an address into longitude
and latitude coordinates. The service returns the best match for
the provided address.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>address</strong> (<em>str</em>) – The address to geocode</p></li>
<li><p><strong>country</strong> (<em>str</em>) – Country code for the address (default: “ESP” for Spain)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Tuple containing (longitude, latitude) coordinates</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>Exception</strong> – If API request fails or returns invalid status</p></li>
<li><p><a class="reference internal" href="shared.html#mango.shared.exceptions.JobError" title="mango.shared.exceptions.JobError"><strong>JobError</strong></a> – If geocoding fails or no candidates are found</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">coords</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_geolocation</span><span class="p">(</span><span class="s2">&quot;Madrid, Spain&quot;</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Longitude: </span><span class="si">{</span><span class="n">coords</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="si">}</span><span class="s2">, Latitude: </span><span class="si">{</span><span class="n">coords</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.arcgis.ArcGisClient.get_origin_destination_matrix">
<span class="sig-name descname"><span class="pre">get_origin_destination_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'sync'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">origins</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destinations</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">travel_mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sleep_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#mango.clients.arcgis.ArcGisClient.get_origin_destination_matrix" title="Link to this definition">¶</a></dt>
<dd><p>Calculate origin-destination matrix with travel times and distances.</p>
<p>Computes travel times and distances between multiple origins and destinations
using ArcGIS routing services. Supports both synchronous and asynchronous modes.
The method automatically switches to async mode for large matrices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mode</strong> (<em>str</em>) – Processing mode - “sync” for immediate results, “async” for large datasets</p></li>
<li><p><strong>origins</strong> (<em>list</em>) – List of origin points with keys: “name”, “x”, “y”</p></li>
<li><p><strong>destinations</strong> (<em>list</em>) – List of destination points with keys: “name”, “x”, “y”</p></li>
<li><p><strong>travel_mode</strong> (<em>dict</em><em>, </em><em>optional</em>) – Travel mode configuration (default: car travel mode)</p></li>
<li><p><strong>sleep_time</strong> (<em>int</em>) – Wait time between status checks in async mode (seconds)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of dictionaries with origin, destination, distance (meters), and time (seconds)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>NotImplementedError</strong> – If matrix size exceeds 1000x1000 limit</p></li>
<li><p><strong>ValueError</strong> – If mode is invalid</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">origins</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Madrid&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mf">3.7038</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">40.4168</span><span class="p">}]</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">destinations</span> <span class="o">=</span> <span class="p">[{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;Barcelona&quot;</span><span class="p">,</span> <span class="s2">&quot;x&quot;</span><span class="p">:</span> <span class="mf">2.1734</span><span class="p">,</span> <span class="s2">&quot;y&quot;</span><span class="p">:</span> <span class="mf">41.3851</span><span class="p">}]</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt; </span><span class="n">matrix</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_origin_destination_matrix</span><span class="p">(</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="n">origins</span><span class="o">=</span><span class="n">origins</span><span class="p">,</span> <span class="n">destinations</span><span class="o">=</span><span class="n">destinations</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;sync&quot;</span>
</span><span data-line="5"><span class="gp">... </span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="emaildownloader">
<h2>EmailDownloader<a class="headerlink" href="#emaildownloader" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mango.clients.email_downloader.EmailDownloader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mango.clients.email_downloader.</span></span><span class="sig-name descname"><span class="pre">EmailDownloader</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.email_downloader.EmailDownloader" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Client for downloading emails and attachments from IMAP servers.</p>
<p>This class provides functionality to connect to IMAP email servers,
download unread emails, and save attachments to the local filesystem.
Supports SSL connections and automatic email marking as read.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>str</em><em>, </em><em>optional</em>) – IMAP server hostname (default: from EMAIL_HOST environment variable)</p></li>
<li><p><strong>user</strong> (<em>str</em><em>, </em><em>optional</em>) – Email username (default: from EMAIL_USER environment variable)</p></li>
<li><p><strong>password</strong> (<em>str</em><em>, </em><em>optional</em>) – Email password (default: from EMAIL_PASSWORD environment variable)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any required configuration is missing</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">downloader</span> <span class="o">=</span> <span class="n">EmailDownloader</span><span class="p">(</span>
</span><span data-line="2"><span class="gp">... </span>    <span class="n">host</span><span class="o">=</span><span class="s2">&quot;imap.gmail.com&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="n">user</span><span class="o">=</span><span class="s2">&quot;user@gmail.com&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
</span><span data-line="5"><span class="gp">... </span><span class="p">)</span>
</span><span data-line="6"><span class="gp">&gt;&gt;&gt; </span><span class="n">emails</span> <span class="o">=</span> <span class="n">downloader</span><span class="o">.</span><span class="n">fetch_unread_emails</span><span class="p">()</span>
</span></pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.email_downloader.EmailDownloader.close_connection">
<span class="sig-name descname"><span class="pre">close_connection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.email_downloader.EmailDownloader.close_connection" title="Link to this definition">¶</a></dt>
<dd><p>Close the connection to the IMAP email server.</p>
<p>Properly closes the IMAP connection to free up resources.
Should be called when finished with email operations.</p>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">downloader</span> <span class="o">=</span> <span class="n">EmailDownloader</span><span class="p">()</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="c1"># ... use downloader ...</span>
</span><span data-line="3"><span class="gp">&gt;&gt;&gt; </span><span class="n">downloader</span><span class="o">.</span><span class="n">close_connection</span><span class="p">()</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.email_downloader.EmailDownloader.fetch_unread_emails">
<span class="sig-name descname"><span class="pre">fetch_unread_emails</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#mango.clients.email_downloader.EmailDownloader.fetch_unread_emails" title="Link to this definition">¶</a></dt>
<dd><p>Fetch all unread emails from the IMAP server.</p>
<p>Downloads all unread emails from the server and automatically marks
them as read. Returns a list of email message objects that can be
processed further.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of email message objects</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>Exception</strong> – If IMAP operations fail</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">emails</span> <span class="o">=</span> <span class="n">downloader</span><span class="o">.</span><span class="n">fetch_unread_emails</span><span class="p">()</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">email</span> <span class="ow">in</span> <span class="n">emails</span><span class="p">:</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Subject: </span><span class="si">{</span><span class="n">email</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Subject&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.email_downloader.EmailDownloader.save_attachments">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">save_attachments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_folder</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'.'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span></span></span><a class="headerlink" href="#mango.clients.email_downloader.EmailDownloader.save_attachments" title="Link to this definition">¶</a></dt>
<dd><p>Save email attachments to the local filesystem.</p>
<p>Extracts and saves all attachments from an email message to the
specified local directory. Skips files that already exist to
avoid overwriting.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<em>email.message.Message</em>) – Email message object containing attachments</p></li>
<li><p><strong>download_folder</strong> (<em>str</em>) – Local directory path to save attachments</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of file paths where attachments were saved</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">emails</span> <span class="o">=</span> <span class="n">downloader</span><span class="o">.</span><span class="n">fetch_unread_emails</span><span class="p">()</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">email</span> <span class="ow">in</span> <span class="n">emails</span><span class="p">:</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="n">attachments</span> <span class="o">=</span> <span class="n">EmailDownloader</span><span class="o">.</span><span class="n">save_attachments</span><span class="p">(</span><span class="n">email</span><span class="p">,</span> <span class="s2">&quot;./downloads&quot;</span><span class="p">)</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Saved </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">attachments</span><span class="p">)</span><span class="si">}</span><span class="s2"> attachments&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="emailsender">
<h2>EmailSender<a class="headerlink" href="#emailsender" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mango.clients.email_sender.EmailSender">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mango.clients.email_sender.</span></span><span class="sig-name descname"><span class="pre">EmailSender</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">host</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">user</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.email_sender.EmailSender" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Client for sending emails with attachments via SMTP.</p>
<p>This class provides functionality to send emails through SMTP servers
with support for attachments, HTML/text content, and SSL encryption.
Configuration can be provided directly or through environment variables.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>host</strong> (<em>str</em><em>, </em><em>optional</em>) – SMTP server hostname (default: from EMAIL_HOST environment variable)</p></li>
<li><p><strong>port</strong> (<em>int</em><em>, </em><em>optional</em>) – SMTP server port (default: from EMAIL_PORT environment variable)</p></li>
<li><p><strong>user</strong> (<em>str</em><em>, </em><em>optional</em>) – Email username (default: from EMAIL_USER environment variable)</p></li>
<li><p><strong>password</strong> (<em>str</em><em>, </em><em>optional</em>) – Email password (default: from EMAIL_PASSWORD environment variable)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If any required configuration is missing</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">sender</span> <span class="o">=</span> <span class="n">EmailSender</span><span class="p">(</span>
</span><span data-line="2"><span class="gp">... </span>    <span class="n">host</span><span class="o">=</span><span class="s2">&quot;smtp.gmail.com&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="n">port</span><span class="o">=</span><span class="mi">465</span><span class="p">,</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="n">user</span><span class="o">=</span><span class="s2">&quot;sender@gmail.com&quot;</span><span class="p">,</span>
</span><span data-line="5"><span class="gp">... </span>    <span class="n">password</span><span class="o">=</span><span class="s2">&quot;password&quot;</span>
</span><span data-line="6"><span class="gp">... </span><span class="p">)</span>
</span><span data-line="7"><span class="gp">&gt;&gt;&gt; </span><span class="n">sender</span><span class="o">.</span><span class="n">send_email_with_attachments</span><span class="p">(</span>
</span><span data-line="8"><span class="gp">... </span>    <span class="n">destination</span><span class="o">=</span><span class="s2">&quot;recipient@example.com&quot;</span><span class="p">,</span>
</span><span data-line="9"><span class="gp">... </span>    <span class="n">subject</span><span class="o">=</span><span class="s2">&quot;Test Email&quot;</span><span class="p">,</span>
</span><span data-line="10"><span class="gp">... </span>    <span class="n">body</span><span class="o">=</span><span class="s2">&quot;Hello World&quot;</span><span class="p">,</span>
</span><span data-line="11"><span class="gp">... </span>    <span class="n">attachments</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;file1.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;file2.txt&quot;</span><span class="p">]</span>
</span><span data-line="12"><span class="gp">... </span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.email_sender.EmailSender.send_email_with_attachments">
<span class="sig-name descname"><span class="pre">send_email_with_attachments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">destination</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attachments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.email_sender.EmailSender.send_email_with_attachments" title="Link to this definition">¶</a></dt>
<dd><p>Send an email with optional attachments via SMTP.</p>
<p>Creates and sends an email message with the specified content and attachments.
Uses SSL encryption for secure transmission. Attachments are read from
local file paths and attached to the email.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>destination</strong> (<em>str</em>) – Email address of the recipient</p></li>
<li><p><strong>subject</strong> (<em>str</em>) – Subject line of the email</p></li>
<li><p><strong>body</strong> (<em>str</em><em>, </em><em>optional</em>) – Email body content (plain text)</p></li>
<li><p><strong>attachments</strong> (<em>list</em><em>, </em><em>optional</em>) – List of file paths to attach to the email</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>FileNotFoundError</strong> – If any attachment file is not found</p></li>
<li><p><strong>Exception</strong> – If SMTP connection or sending fails</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">sender</span><span class="o">.</span><span class="n">send_email_with_attachments</span><span class="p">(</span>
</span><span data-line="2"><span class="gp">... </span>    <span class="n">destination</span><span class="o">=</span><span class="s2">&quot;user@example.com&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="n">subject</span><span class="o">=</span><span class="s2">&quot;Report&quot;</span><span class="p">,</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="n">body</span><span class="o">=</span><span class="s2">&quot;Please find the report attached.&quot;</span><span class="p">,</span>
</span><span data-line="5"><span class="gp">... </span>    <span class="n">attachments</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;report.pdf&quot;</span><span class="p">,</span> <span class="s2">&quot;data.xlsx&quot;</span><span class="p">]</span>
</span><span data-line="6"><span class="gp">... </span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="googlecloudstorage">
<h2>GoogleCloudStorage<a class="headerlink" href="#googlecloudstorage" title="Link to this heading">¶</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This class inherits from <code class="xref py py-class docutils literal notranslate"><span class="pre">mango.clients.cloud_storage.CloudStorage</span></code> which is an abstract base class.
The autoclass documentation may not generate properly due to the abstract nature of the parent class.</p>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mango.clients.google_cloud_storage.</span></span><span class="sig-name descname"><span class="pre">GoogleCloudStorage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">secrets_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bucket_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">CloudStorage</span></code></p>
<p>Google Cloud Storage client for managing files and objects in GCS buckets.</p>
<p>This class provides a comprehensive interface for Google Cloud Storage operations
including uploading, downloading, deleting, copying, and moving files. It extends
the abstract CloudStorage class with GCS-specific functionality.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>secrets_file</strong> (<em>str</em>) – Path to Google Cloud service account JSON file</p></li>
<li><p><strong>bucket_name</strong> (<em>str</em>) – Name of the GCS bucket to work with</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If secrets file is missing</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span> <span class="o">=</span> <span class="n">GoogleCloudStorage</span><span class="p">(</span>
</span><span data-line="2"><span class="gp">... </span>    <span class="n">secrets_file</span><span class="o">=</span><span class="s2">&quot;/path/to/service-account.json&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="n">bucket_name</span><span class="o">=</span><span class="s2">&quot;my-bucket&quot;</span>
</span><span data-line="4"><span class="gp">... </span><span class="p">)</span>
</span><span data-line="5"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">upload_from_filename</span><span class="p">(</span><span class="s2">&quot;local_file.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;remote_file.txt&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.upload_object">
<span class="sig-name descname"><span class="pre">upload_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contents</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.upload_object" title="Link to this definition">¶</a></dt>
<dd><p>Upload Python object contents to Google Cloud Storage.</p>
<p>Uploads raw data/contents directly to the specified blob in the GCS bucket.
The contents must be convertible to string or bytes format.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>contents</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>bytes</em><em>, </em><em>object</em><em>]</em>) – The data content to upload (string, bytes, or serializable object)</p></li>
<li><p><strong>blob_name</strong> (<em>str</em>) – Name/path of the blob in the GCS bucket</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">upload_object</span><span class="p">(</span><span class="s2">&quot;Hello World&quot;</span><span class="p">,</span> <span class="s2">&quot;greeting.txt&quot;</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">upload_object</span><span class="p">(</span><span class="sa">b</span><span class="s2">&quot;Binary data&quot;</span><span class="p">,</span> <span class="s2">&quot;data.bin&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_filename">
<span class="sig-name descname"><span class="pre">upload_from_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_filename" title="Link to this definition">¶</a></dt>
<dd><p>Upload file from local filesystem to Google Cloud Storage.</p>
<p>Reads a file from the local filesystem and uploads its contents
to the specified blob in the GCS bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>str</em>) – Path to the local file to upload</p></li>
<li><p><strong>blob_name</strong> (<em>str</em>) – Name/path of the blob in the GCS bucket</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>FileNotFoundError</strong> – If the local file does not exist</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">upload_from_filename</span><span class="p">(</span><span class="s2">&quot;/path/to/local/file.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;remote/file.txt&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_file">
<span class="sig-name descname"><span class="pre">upload_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_file" title="Link to this definition">¶</a></dt>
<dd><p>Upload file from an open file handle to Google Cloud Storage.</p>
<p>Uploads data from an already open file handle to the specified blob
in the GCS bucket. The file handle must be in binary read mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file</strong> (<em>file-like object</em>) – Open file handle in binary read mode</p></li>
<li><p><strong>blob_name</strong> (<em>str</em>) – Name/path of the blob in the GCS bucket</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;data.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
</span><span data-line="2"><span class="gp">... </span>    <span class="n">gcs</span><span class="o">.</span><span class="n">upload_from_file</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="s2">&quot;remote/data.txt&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.rename_file">
<span class="sig-name descname"><span class="pre">rename_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.rename_file" title="Link to this definition">¶</a></dt>
<dd><p>Rename an existing blob in Google Cloud Storage.</p>
<p>Changes the name of an existing blob within the same bucket.
This operation creates a new blob with the new name and deletes the old one.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blob_name</strong> (<em>str</em>) – Current name of the blob to rename</p></li>
<li><p><strong>new_name</strong> (<em>str</em>) – New name for the blob</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotFound</strong> – If the source blob does not exist</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">rename_file</span><span class="p">(</span><span class="s2">&quot;old_name.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;new_name.txt&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.download_to_object">
<span class="sig-name descname"><span class="pre">download_to_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.download_to_object" title="Link to this definition">¶</a></dt>
<dd><p>Download blob contents as a Python object from Google Cloud Storage.</p>
<p>Downloads the blob contents and returns them as bytes. The contents
can be converted to string or other formats as needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blob_name</strong> (<em>str</em>) – Name of the blob to download</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Blob contents as bytes</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bytes</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotFound</strong> – If the blob does not exist</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">content</span> <span class="o">=</span> <span class="n">gcs</span><span class="o">.</span><span class="n">download_to_object</span><span class="p">(</span><span class="s2">&quot;file.txt&quot;</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">text</span> <span class="o">=</span> <span class="n">content</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.download_to_file">
<span class="sig-name descname"><span class="pre">download_to_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.download_to_file" title="Link to this definition">¶</a></dt>
<dd><p>Download blob from Google Cloud Storage to local filesystem.</p>
<p>Downloads the specified blob and saves it to the local filesystem
at the given destination path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blob_name</strong> (<em>str</em>) – Name of the blob to download</p></li>
<li><p><strong>destination_path</strong> (<em>str</em>) – Local file path where the blob will be saved</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotFound</strong> – If the blob does not exist</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">download_to_file</span><span class="p">(</span><span class="s2">&quot;remote/file.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;/local/path/file.txt&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.delete_file">
<span class="sig-name descname"><span class="pre">delete_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.delete_file" title="Link to this definition">¶</a></dt>
<dd><p>Delete a blob from Google Cloud Storage bucket.</p>
<p>Permanently removes the specified blob from the GCS bucket.
This operation cannot be undone.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>blob_name</strong> (<em>str</em>) – Name of the blob to delete</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotFound</strong> – If the blob does not exist</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">delete_file</span><span class="p">(</span><span class="s2">&quot;unwanted_file.txt&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.list_files">
<span class="sig-name descname"><span class="pre">list_files</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.list_files" title="Link to this definition">¶</a></dt>
<dd><p>List all files in the Google Cloud Storage bucket.</p>
<p>Retrieves a list of all blob names currently stored in the bucket.
This includes all files regardless of their location within the bucket.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of blob names in the bucket</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">files</span> <span class="o">=</span> <span class="n">gcs</span><span class="o">.</span><span class="n">list_files</span><span class="p">()</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Bucket contains </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">files</span><span class="p">)</span><span class="si">}</span><span class="s2"> files&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.copy_file">
<span class="sig-name descname"><span class="pre">copy_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_bucket</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.copy_file" title="Link to this definition">¶</a></dt>
<dd><p>Copy a blob to another bucket in Google Cloud Storage.</p>
<p>Creates a copy of the specified blob in the destination bucket.
If no destination bucket is specified, uses the environment variable
DESTINATION_BUCKET_NAME. If no new name is provided, keeps the original name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blob_name</strong> (<em>str</em>) – Name of the source blob to copy</p></li>
<li><p><strong>destination_bucket</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the destination bucket</p></li>
<li><p><strong>destination_blob_name</strong> (<em>str</em><em>, </em><em>optional</em>) – New name for the blob in destination bucket</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotFound</strong> – If the source blob does not exist</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">copy_file</span><span class="p">(</span><span class="s2">&quot;source.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;other-bucket&quot;</span><span class="p">,</span> <span class="s2">&quot;copied.txt&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.move_file">
<span class="sig-name descname"><span class="pre">move_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_bucket</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination_blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.move_file" title="Link to this definition">¶</a></dt>
<dd><p>Move a blob from one bucket to another in Google Cloud Storage.</p>
<p>Moves the specified blob to the destination bucket by copying it
and then deleting the original. If no destination bucket is specified,
uses the environment variable DESTINATION_BUCKET_NAME.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>blob_name</strong> (<em>str</em>) – Name of the source blob to move</p></li>
<li><p><strong>destination_bucket</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the destination bucket</p></li>
<li><p><strong>destination_blob_name</strong> (<em>str</em><em>, </em><em>optional</em>) – New name for the blob in destination bucket</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotFound</strong> – If the source blob does not exist</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">move_file</span><span class="p">(</span><span class="s2">&quot;source.txt&quot;</span><span class="p">,</span> <span class="s2">&quot;archive-bucket&quot;</span><span class="p">,</span> <span class="s2">&quot;moved.txt&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_folder">
<span class="sig-name descname"><span class="pre">upload_from_folder</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">local_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blob_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.google_cloud_storage.GoogleCloudStorage.upload_from_folder" title="Link to this definition">¶</a></dt>
<dd><p>Upload all files from a local folder to Google Cloud Storage.</p>
<p>Recursively uploads all files from the specified local directory
to the GCS bucket, preserving the directory structure. Files are
uploaded with their relative paths as blob names.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>local_path</strong> (<em>str</em>) – Path to the local directory to upload</p></li>
<li><p><strong>blob_name</strong> (<em>str</em>) – Base path/prefix for the uploaded files in the bucket</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If the local path is not a directory</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">gcs</span><span class="o">.</span><span class="n">upload_from_folder</span><span class="p">(</span><span class="s2">&quot;/local/data&quot;</span><span class="p">,</span> <span class="s2">&quot;backup/data&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="restclient">
<h2>RESTClient<a class="headerlink" href="#restclient" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="mango.clients.rest_client.RESTClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">mango.clients.rest_client.</span></span><span class="sig-name descname"><span class="pre">RESTClient</span></span><a class="headerlink" href="#mango.clients.rest_client.RESTClient" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">ABC</span></code></p>
<p>Abstract base class for REST API clients.</p>
<p>This class provides a foundation for implementing REST API clients with
common functionality for request handling, error management, and response
validation. Concrete implementations must provide their own connect method.</p>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span><span class="w"> </span><span class="nc">MyAPIClient</span><span class="p">(</span><span class="n">RESTClient</span><span class="p">):</span>
</span><span data-line="2"><span class="gp">... </span>    <span class="k">def</span><span class="w"> </span><span class="nf">connect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
</span><span data-line="3"><span class="gp">... </span>        <span class="c1"># Implementation for API connection</span>
</span><span data-line="4"><span class="gp">... </span>        <span class="k">pass</span>
</span></pre></div>
</div>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.rest_client.RESTClient.connect">
<em class="property"><span class="pre">abstract</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.rest_client.RESTClient.connect" title="Link to this definition">¶</a></dt>
<dd><p>Establish connection to the REST API.</p>
<p>This abstract method must be implemented by subclasses to establish
a connection to their specific API. It can be used to verify API
availability and validate authentication credentials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>args</strong> – Variable length argument list</p></li>
<li><p><strong>kwargs</strong> – Arbitrary keyword arguments</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – If not implemented in subclass</p>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span> <span class="o">=</span> <span class="n">MyAPIClient</span><span class="p">()</span>
</span><span data-line="2"><span class="gp">&gt;&gt;&gt; </span><span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">api_key</span><span class="o">=</span><span class="s2">&quot;your_key&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.rest_client.RESTClient.request_handler">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">request_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wait_time</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">if_error</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'raise'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'warn'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'ignore'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'raise'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_schema</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">pydantic.BaseModel</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">dict</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#mango.clients.rest_client.RESTClient.request_handler" title="Link to this definition">¶</a></dt>
<dd><p>Handle HTTP GET requests with error management and response validation.</p>
<p>Makes a GET request to the specified URL with the given parameters,
implements rate limiting through wait time, and provides flexible
error handling options. Optionally validates response against a
Pydantic schema.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>url</strong> (<em>str</em>) – URL to make the request to</p></li>
<li><p><strong>params</strong> (<em>dict</em>) – Parameters to pass to the request</p></li>
<li><p><strong>wait_time</strong> (<em>Union</em><em>[</em><em>float</em><em>, </em><em>int</em><em>]</em>) – Wait time in seconds after the request</p></li>
<li><p><strong>if_error</strong> (<em>Literal</em><em>[</em><em>&quot;raise&quot;</em><em>, </em><em>&quot;warn&quot;</em><em>, </em><em>&quot;ignore&quot;</em><em>]</em>) – Error handling strategy - “raise”, “warn”, or “ignore”</p></li>
<li><p><strong>expected_schema</strong> (<em>Type</em><em>[</em><em>BaseModel</em><em>]</em><em>, </em><em>optional</em>) – Pydantic schema to validate response structure</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Parsed JSON response as dictionary or list of dictionaries</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[dict, List[dict]]</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>HTTPError</strong> – If request fails and if_error is “raise”</p></li>
<li><p><strong>ValueError</strong> – If if_error parameter is invalid</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="n">response</span> <span class="o">=</span> <span class="n">RESTClient</span><span class="o">.</span><span class="n">request_handler</span><span class="p">(</span>
</span><span data-line="2"><span class="gp">... </span>    <span class="n">url</span><span class="o">=</span><span class="s2">&quot;https://api.example.com/data&quot;</span><span class="p">,</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="n">params</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;value&quot;</span><span class="p">},</span>
</span><span data-line="4"><span class="gp">... </span>    <span class="n">wait_time</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span>
</span><span data-line="5"><span class="gp">... </span>    <span class="n">if_error</span><span class="o">=</span><span class="s2">&quot;warn&quot;</span>
</span><span data-line="6"><span class="gp">... </span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="mango.clients.rest_client.RESTClient.expect_status">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">expect_status</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expected_status</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response_type</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Literal</span><span class="p"><span class="pre">[</span></span><span class="s"><span class="pre">'json'</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="s"><span class="pre">'raw'</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'json'</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#mango.clients.rest_client.RESTClient.expect_status" title="Link to this definition">¶</a></dt>
<dd><p>Decorator to validate HTTP response status codes and format responses.</p>
<p>This decorator wraps functions that return HTTP responses and validates
the status code against the expected value. It also handles response
formatting to return either JSON data or raw response objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>func</strong> (<em>callable</em>) – Function that returns a requests.Response object</p></li>
<li><p><strong>expected_status</strong> (<em>int</em><em>, </em><em>optional</em>) – Expected HTTP status code (e.g., 200, 201)</p></li>
<li><p><strong>response_type</strong> (<em>Literal</em><em>[</em><em>&quot;json&quot;</em><em>, </em><em>&quot;raw&quot;</em><em>]</em>) – Format of returned data - “json” or “raw”</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Decorated function that validates status and formats response</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>callable</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>HTTPError</strong> – If response status doesn’t match expected_status</p></li>
<li><p><strong>ValueError</strong> – If response_type is invalid</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span data-line="1"><span class="gp">&gt;&gt;&gt; </span><span class="nd">@RESTClient</span><span class="o">.</span><span class="n">expect_status</span><span class="p">(</span><span class="n">expected_status</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">response_type</span><span class="o">=</span><span class="s2">&quot;json&quot;</span><span class="p">)</span>
</span><span data-line="2"><span class="gp">... </span><span class="k">def</span><span class="w"> </span><span class="nf">get_data</span><span class="p">():</span>
</span><span data-line="3"><span class="gp">... </span>    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;https://api.example.com/data&quot;</span><span class="p">)</span>
</span></pre></div>
</div>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>

        </article><button class="back-to-top" type="button">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
  </svg>
  <span>Back to top</span>
</button><div class="navigation flex print:hidden"><div class="navigation-prev">
    <a href="benchmark.html">
      <i class="i-lucide chevron-left"></i>
      <div class="page-info">
        <span>Previous</span><div class="title">Benchmarks</div></div>
    </a>
  </div><div class="navigation-next">
    <a href="config.html">
      <div class="page-info">
        <span>Next</span>
        <div class="title">Config</div>
      </div>
      <i class="i-lucide chevron-right"></i>
    </a>
  </div></div></div>
    </div>
  </main>
</div>
<footer class="sy-foot">
  <div class="sy-foot-inner sy-container mx-auto">
    <div class="sy-foot-reserved md:flex justify-between items-center">
      <div class="sy-foot-copyright"><p>2023, baobab soluciones</p>
  
  <p>
    Made with
    
    <a href="https://www.sphinx-doc.org/">Sphinx</a> and
    
    <a href="https://shibuya.lepture.com">Shibuya theme</a>.
  </p>
</div>
      <div class="sy-foot-socials"></div>
    </div>
  </div>
</footer>
      <script src="../_static/documentation_options.js?v=5929fcd5"></script>
      <script src="../_static/doctools.js?v=888ff710"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../_static/shibuya.js?v=c477d091"></script></body>
</html>